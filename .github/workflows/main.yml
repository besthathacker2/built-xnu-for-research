name: macOS Build and Test
run-name: ${{ github.actor }} is running the macOS workflow ðŸš€

on: [push, pull_request]

jobs:
  build-and-test:
    # Specifies the job should run on the latest macOS GitHub-hosted runner
    runs-on: macos-latest

    steps:
      - name: Checkout repository code
        # Uses the actions/checkout action to download your repository's code
        uses: actions/checkout@v4

      - name: setup xcode
        run: xcode-select --install

      - name: install ios26 sdk
        run: xcodebuild -downloadPlatform iOS

      - name: build
        run: |
         make SDKROOT=/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS26.0.sdk ARCH_CONFIGS=aarch64-apple-ios26.0 KERNEL_CONFIGS=release
     
      - name: Upload a Build Artifact
        uses: actions/upload-artifact@v6.0.0
        with:
          
